<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="../css/exc2.css"/>
    <script src="../javascript/exc2.js"></script>
    <script src="../javascript/JsBarcode.all.min.js"></script>
    <title>Exercise 2</title>
</head>
<body>

<div class="row">
    <div class="col10">
        <form id="barcode_form">
            <p>Virtual Barcode: </p><input id="virtual_barcode" type="text">
            <input id="decode_button" type="button" value="Decode" onclick="drawBarcode()">
        </form>
        <input id="hide_button" type="submit" value="Hide">
    </div>
</div>

<div class="row">
    <div id="info_area" class="col10">

        <div id="column1">
            <h1 id="column1_amount">Amount to be paid:<p id="amount"></p></h1>
            <h1 id="column1_due_date">Due date:<p id="due_date"></p></h1>
        </div>

        <div id="column2">
            <h1 id="column2_payee">Payee's IBAN:<p id="payee"></p></h1>
            <h1 id="column2_payment_reference">Payment reference:<p id="payment_reference"></p></h1>
        </div>

        <div id="barcode_area">
            <svg id="barcode"></svg>
            <script>
                function drawBarcode() {
                    console.log("Method called");
                    let virtualBarcode = document.getElementById("virtual_barcode").value;
                    let isValid = checkBarcode(virtualBarcode)
                    if(virtualBarcode.length !== 54){
                        alert("Incorrect barcode format!")
                    }
                    if(isValid === false){
                        alert("Invalid characters in barcode!")
                    }
                    else{
                        JsBarcode("#barcode", virtualBarcode);
                    }
                }
            </script>
        </div>

    </div>



</div>
</body>
</html>